[workspace]
resolver = "2"
members = [
    "contracts/*",
    "packages/*",
]

[workspace.package]
edition = "2021"
repository = "https://github.com/cosmos/ibc-go"
version = "0.1.0"

[workspace.metadata.scripts]
optimize = """docker run --rm -v "$(pwd)":/code \
  --mount type=volume,source="$(basename "$(pwd)")_cache",target=/target \
  --mount type=volume,source=registry_cache,target=/usr/local/cargo/registry \
  cosmwasm/optimizer:0.16.1"""

[workspace.dependencies]
# Local packages
ibc-go-proto = { path = "packages/ibc-go-proto" }
ethereum = { path = "packages/ethereum" }
ethereum-trie-db = { path = "packages/ethereum-trie-db" }
utils = { path = "packages/utils" }

# CosmWasm related dependencies
cosmwasm-schema = "2.1"
cosmwasm-std = "2.1"
cw-storage-plus = "2.0"
serde = { version = "1.0", default-features = false, features = ["derive"] }
serde_json = { version = "1.0", default-features = false, features = ["alloc"] }
thiserror = "2.0"

# Eth
alloy-primitives = { version = "0.8", features = ["serde"] }
alloy-rpc-types-eth = { version = "0.7", default-features = false, features = ["serde"] }
alloy-rpc-types-beacon = { version = "0.7", default-features = false, features = ["ssz"]}
alloy-rpc-types-engine = { version = "0.7", default-features = false, features = ["ssz"]}
alloy-trie = { version = "0.5", features = ["serde"] } # TODO: default-features = false, 
alloy-serde = "0.7"
alloy-rlp = "0.3"
ethereum_ssz = "0.8" # Maintained by Sigma Prime for use in Lighthouse (and the broader Ethereum ecosystem)
ethereum_ssz_derive = "0.8" # Maintained by Sigma Prime for use in Lighthouse (and the broader Ethereum ecosystem)
tree_hash = "0.8" # Maintained by Sigma Prime for use in Lighthouse (and the broader Ethereum ecosystem)
tree_hash_derive = "0.8" # Maintained by Sigma Prime for use in Lighthouse (and the broader Ethereum ecosystem)
sha2 = { version = "0.10", default-features = false }
sha3 = { version = "0.8", default-features = false }

trie-db = "0.29" # Maintined by Parity Tech
hash-db = "0.16" # Maintined by Parity Tech
memory-db = "0.32" # Maintined by Parity Tech
hash256-std-hasher = "0.15" # Maintined by Parity Tech
rlp = "0.6" # Maintined by Parity Tech
rlp-derive = "0.2" # Maintined by Parity Tech
primitive-types = { version = "0.13", default-features = false, features = ["rlp"] } # Maintined by Parity Tech


# From union (might be removed if they are replaced by something more standard)
typenum = { version = "1.17.0", default-features = false }

# Proto related dependencies
ics23 = { version = "0.12", default-features = false }
tendermint-proto = { version = "0.40", default-features = false }
cosmos-sdk-proto = { version = "0.26", default-features = false }
prost = { version = "0.13", default-features = false, features = ["prost-derive"] }

# dev-dependencies
cw-multi-test = "2.2.0"


